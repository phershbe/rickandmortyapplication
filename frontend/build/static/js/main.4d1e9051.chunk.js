(this.webpackJsonpanapi=this.webpackJsonpanapi||[]).push([[0],{19:function(e,t,n){},20:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){"use strict";n.r(t),n.d(t,"homepage",(function(){return E})),n.d(t,"favorites",(function(){return C})),n.d(t,"register",(function(){return k})),n.d(t,"login",(function(){return w})),n.d(t,"setUserMessage",(function(){return L})),n.d(t,"setUser",(function(){return F})),n.d(t,"addFavorite",(function(){return I})),n.d(t,"deleteFavorite",(function(){return T})),n.d(t,"logInOut",(function(){return R})),n.d(t,"favoritesFromDatabase",(function(){return A}));var r=n(5),c=n(3),a=n(1),s=n(8),o=n.n(s),i=(n(19),n(20),n(6)),u=n.n(i),j=n(10),l=n(4),b=n.p+"static/media/rickandmortylogo.42c8df0b.png",d=n(2),O=n(0),h=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)("Placeholder"),o=Object(l.a)(s,2),i=(o[0],o[1],Object(a.useState)("")),h=Object(l.a)(i,2),f=h[0],m=h[1],p=Object(a.useState)(""),x=Object(l.a)(p,2),g=x[0],v=x[1],y=Object(a.useState)(!0),N=Object(l.a)(y,2),S=N[0],E=N[1],C=Object(d.c)((function(e){return e.favoritesList})),k=Object(d.c)((function(e){return e.currentUser})),w=Object(d.c)((function(e){return e.loggedIn})),L=Object(d.b)();Object(a.useEffect)((function(){var e=!0,t="https://rickandmortyapi.com/api/character/",n=[];return function(){var r=Object(j.a)(u.a.mark((function r(){var a,s,o,i;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:a=1;case 1:if(!(a<4)){r.next=13;break}return r.next=4,fetch(t);case 4:return s=r.sent,r.next=7,s.json();case 7:for(o=r.sent,i=0;i<20;i++)n.push(o.results[i]);t=o.info.next;case 10:a++,r.next=1;break;case 13:e&&(c(n),E(!1));case 14:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}()(),function(){e=!1}}),[]);return Object(O.jsxs)("div",{className:"pt-5",children:[Object(O.jsx)("div",{className:"text-center mt-5",children:Object(O.jsx)("img",{src:b,className:"img-fluid"})}),Object(O.jsx)("h2",{children:'Click on a character here to add them to your favorites. Choose "Check Favorites" in the menu bar to see your favorites and "Search Characters" to come back.'}),Object(O.jsxs)("div",{className:"all",children:[Object(O.jsx)("h4",{children:"Search by name:"}),Object(O.jsx)("input",{onChange:function(e){m(e.target.value)}}),Object(O.jsx)("h4",{children:"Search by location:"}),Object(O.jsx)("input",{onChange:function(e){v(e.target.value)}}),Object(O.jsx)("br",{}),Object(O.jsx)("div",{className:"row m-1",children:S?"Loading can take a few seconds. Your Rick and Morty experience will be ready soon!":n.filter((function(e){return""==f||e.name.toLowerCase().includes(f.toLowerCase())?e:void 0})).filter((function(e){return""==g||e.location.name.toLowerCase().includes(g.toLowerCase())?e:void 0})).map((function(e,t){return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("div",{className:"col-md-4 border border-dark rounded",id:"square",onClick:function(){return function(e,t,n,c){var a=[e,t,n,c],s=Object(r.a)(C);s.push(a),L(I(a)),!0===w&&fetch("/addFavorite",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({favoritesCopy:s,username:k})})}(e.name,e.image,e.location.name,e.status)},children:[Object(O.jsx)("h2",{children:e.name}),Object(O.jsx)("img",{src:e.image,className:"border rounded"}),Object(O.jsxs)("h4",{children:["Location: ",e.location.name]}),Object(O.jsxs)("h4",{children:["Status: ",e.status]})]})})}))})]})]})},f=function(){var e=Object(d.c)((function(e){return e.favoritesList})),t=Object(d.c)((function(e){return e.currentUser})),n=Object(d.c)((function(e){return e.loggedIn})),c=Object(d.b)();return Object(O.jsxs)("div",{className:"pt-5",children:[Object(O.jsx)("div",{className:"text-center mt-5",children:Object(O.jsx)("img",{src:b,className:"img-fluid"})}),Object(O.jsx)("h2",{children:"Here are your favorites!"}),Object(O.jsx)("h2",{children:"Click on the character to remove her or him from your favorites!"}),Object(O.jsx)("div",{className:"row m-1",children:0===e.length?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"col"}),Object(O.jsx)("div",{className:"col",children:Object(O.jsx)("h2",{children:"Choose some favorites!"})}),Object(O.jsx)("div",{className:"col"})]}):e.map((function(a,s){return Object(O.jsxs)("div",{className:"col-md-4 border border-dark rounded",id:"square",onClick:function(){return function(a){c(T(a));for(var s=Object(r.a)(e),o=[],i=0;i<s.length;i++)s[i][0]!==a&&o.push(s[i]);!0===n&&fetch("/deleteFavorite",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({theData:o,username:t})})}(a[0])},children:[Object(O.jsx)("h2",{children:a[0]}),Object(O.jsx)("img",{src:a[1],className:"border rounded"}),Object(O.jsxs)("h4",{children:["Location: ",a[2]]}),Object(O.jsxs)("h4",{children:["Status: ",a[3]]})]})}))})]})},m=(n(27),function(){var e=Object(d.b)();return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("li",{className:"float-right mr-3",children:Object(O.jsx)("a",{href:"#",className:"text-white h3",onClick:function(){return e(w())},children:"Login"})}),Object(O.jsx)("li",{className:"float-right mr-3",children:Object(O.jsx)("a",{href:"#",className:"text-white h3",onClick:function(){return e(k())},children:"Register"})})]})}),p=function(){var e=Object(d.c)((function(e){return e.currentMessage})),t=Object(d.b)();return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("li",{className:"float-right mr-3",children:Object(O.jsx)("a",{href:"#",className:"text-white h3",onClick:function(){t(R()),t(L("")),t(F("")),t(A(""))},children:"Logout"})}),Object(O.jsx)("li",{className:"float-right mr-3 text-white h3",children:e})]})},x=function(){var e=Object(d.c)((function(e){return e.loggedIn})),t=Object(d.b)();return Object(O.jsxs)("nav",{class:"navbar navbar-dark py-2 fixed-top justify-content-around bg-primary mr-2 ml-2",children:[Object(O.jsx)("a",{className:"text-white h3 ml-3",href:"#",onClick:function(){return t(E())},children:"Home"}),Object(O.jsx)("a",{className:"text-white h3 ml-3",href:"#",onClick:function(){return t(C())},children:"Check Favorites"}),Object(O.jsx)("ul",{className:"ml-auto mt-2",children:e?Object(O.jsx)(p,{}):Object(O.jsx)(m,{})})]})},g=function(){var e=Object(d.b)(),t=Object(a.useState)(""),n=Object(l.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)(""),o=Object(l.a)(s,2),i=o[0],u=o[1];return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h1",{className:"text-center mt-5 pt-4",children:"Register"}),Object(O.jsxs)("form",{className:"text-center",children:[Object(O.jsx)("input",{placeholder:"username",type:"text",className:"h4",onChange:function(e){c(e.target.value)}}),Object(O.jsx)("input",{placeholder:"password",type:"password",className:"h4",onChange:function(e){u(e.target.value)}}),Object(O.jsx)("button",{onClick:function(t){t.preventDefault(),fetch("/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:r,password:i})}),e(w())},children:"Submit"})]})]})},v=function(){Object(d.c)((function(e){return e.currentUser})),Object(d.c)((function(e){return e.loggedIn}));var e=Object(d.b)(),t=Object(a.useState)(""),n=Object(l.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)(""),o=Object(l.a)(s,2),i=o[0],b=o[1],h=Object(a.useState)(""),f=Object(l.a)(h,2),m=f[0],p=f[1],x=function(){var t=Object(j.a)(u.a.mark((function t(n){var a,s,o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,fetch("/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:r,password:i})});case 3:return a=t.sent,t.next=6,a.json();case 6:s=t.sent,"Username not found"===(o=e(L(s.message))).payload?p("Username not found"):"Login unsuccessful"===o.payload?p("Login unsuccessful"):(e(F(s.user)),e(R()),e(A(s.favorites)),e(E()),p("")),c(""),b("");case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h1",{className:"text-center mt-5 pt-4",children:"Login"}),Object(O.jsxs)("form",{className:"text-center",children:[Object(O.jsx)("input",{placeholder:"username",type:"text",className:"h4",onChange:function(e){c(e.target.value)},value:r}),Object(O.jsx)("input",{placeholder:"password",type:"password",className:"h4",onChange:function(e){b(e.target.value)},value:i}),Object(O.jsx)("button",{onClick:x,children:"Submit"})]}),Object(O.jsx)("h3",{className:"text-center",children:m})]})},y=function(){var e=Object(d.c)((function(e){return e.currentPage}));return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(x,{}),"homepage"===e?Object(O.jsx)(h,{}):"favorites"===e?Object(O.jsx)(f,{}):"register"===e?Object(O.jsx)(g,{}):"login"===e?Object(O.jsx)(v,{}):Object(O.jsx)(h,{})]})},N=n(14),S={currentPage:"homepage",currentMessage:"",currentUser:"",favoritesList:[],loggedIn:!1},E=function(){return{type:"HOMEPAGE"}},C=function(){return{type:"FAVORITES"}},k=function(){return{type:"REGISTER"}},w=function(){return{type:"LOGIN"}},L=function(e){return{type:"USERMESSAGE",payload:e}},F=function(e){return{type:"USERNOW",payload:e}},I=function(e){return{type:"ADDFAVORITE",payload:e}},T=function(e){return{type:"DELETEFAVORITE",payload:e}},R=function(){return{type:"LOGINOUT"}},A=function(e){return{type:"FAVORITESFROMDATABASE",payload:e}},U=Object(N.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"HOMEPAGE":return Object(c.a)(Object(c.a)({},e),{},{currentPage:"homepage"});case"FAVORITES":return Object(c.a)(Object(c.a)({},e),{},{currentPage:"favorites"});case"REGISTER":return Object(c.a)(Object(c.a)({},e),{},{currentPage:"register"});case"LOGIN":return Object(c.a)(Object(c.a)({},e),{},{currentPage:"login"});case"USERMESSAGE":return Object(c.a)(Object(c.a)({},e),{},{currentMessage:t.payload});case"USERNOW":return Object(c.a)(Object(c.a)({},e),{},{currentUser:t.payload});case"ADDFAVORITE":return Object(c.a)(Object(c.a)({},e),{},{favoritesList:[].concat(Object(r.a)(e.favoritesList),[t.payload])});case"DELETEFAVORITE":return Object(c.a)(Object(c.a)({},e),{},{favoritesList:e.favoritesList.filter((function(e){return t.payload!==e[0]}))});case"LOGINOUT":return console.log(e.loggedIn),Object(c.a)(Object(c.a)({},e),{},{loggedIn:!e.loggedIn});case"FAVORITESFROMDATABASE":return Object(c.a)(Object(c.a)({},e),{},{favoritesList:t.payload});default:return e}}));o.a.render(Object(O.jsx)(d.a,{store:U,children:Object(O.jsx)(y,{})}),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.4d1e9051.chunk.js.map